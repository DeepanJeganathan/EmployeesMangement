@model EmployeesManagementApp.ViewModel.HomeFlowViewModel

@{
    ViewData["Title"] = "flow";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<br />
@foreach (var dept in Model.Departments)
{
    <h4> @Html.DisplayFor(modelItem => dept.DepartmentName)</h4>
}
<br />


<table class="table ">
    <thead>
        <tr>
            <th>
                <i class="fas fa-store-alt"></i> Workstation Number
            </th>
            <th>
                <i class="fas fa-industry"></i> Operation Type

            </th>
            <th>
                <i class="far fa-id-card"></i> Details
            </th>
            
        </tr>
       
        
    </thead>


    @foreach (var dept in Model.Departments)
    {


        @foreach (var station in dept.Workstations)

        {
<tr>
    <td>

        <b>  @Html.DisplayFor(modelItem => station.WorkstationNumber)</b>
    </td>
    <td>

        <b>  @Html.DisplayFor(modelItem => station.WorkstationName)</b>
    </td>

    <td>
        <table class="table table-striped table-hover">
            
                <tr>


                    <th>
                        Employee Number

                    </th>
                    <th>
                        First Name

                    </th>
                    <th>
                        Last Name

                    </th>
                </tr>
                @foreach (var emp in station.EmployeeWorkstations)

                {

                    <tr>

                        <td>
                            <a asp-controller="Employees"
                            asp-action="Details"
                            asp-route-id="@emp.EmployeeNumber">  @Html.DisplayFor(modelItem => emp.Employee.EmployeeNumber)</a>
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => emp.Employee.FirstName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => emp.Employee.LastName)
                        </td>
                    </tr>



                }
</table>
        </td>
</tr>
                }
          

        }



    </table>
